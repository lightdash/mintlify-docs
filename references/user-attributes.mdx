---
title: "User Attributes"
---

* [](/)
* [References](/references)
* [Admin](/references/admin)
* User Attributes

On this page

User attributes provide a way to customise Lightdash charts, dashboards, and other behaviour depending on the user that is logged in. For example, you could only show your sales team members data that are relevant to their region.

User attributes are defined for your whole Organization and can only be a text value (not a date or number). Some examples of user attributes are:

* Sales region
* Department
* Can view PII
* Can view financial data

To start user attributes you need to follow 2 steps:

1. Define the user attribute, users can only have user attributes that are explicitly created by admins
2. Set the user attribute value per user.

User attributes can only be managed by admins.

[YouTube video player](https://www.youtube.com/embed/eSUULAeBZU8)

## Managing user attributes[​](#managing-user-attributes "Direct link to Managing user attributes")

### Creating user attributes[​](#creating-user-attributes "Direct link to Creating user attributes")

User attributes can be created by navigating to **Organization Settings** > **User Attributes** and clicking on the **Add attribute** button. This will create a new user attribute but it will not be assigned to any user.

### Assigning user attributes to users and groups[​](#assigning-user-attributes-to-users-and-groups "Direct link to Assigning user attributes to users and groups")

User attributes can be assigned to users or [groups](/references/groups) by navigating to **Organization Settings** > **User Attributes** and clicking on the user attribute you'd like to assign. Select a user by email address, or a group by group name and set their value.

### Setting a default value for your user attribute[​](#setting-a-default-value-for-your-user-attribute "Direct link to Setting a default value for your user attribute")

You can add a default attribute that will be applied to all users who don't have their own value defined in this user attribute.

![](/assets/images/user-attribute-default-value-5618464d7ec3e8f71a78d0af4d409229.png)

If a user has an attribute defined, we will ignore the default for that user.

## Using user attributes in Lightdash[​](#using-user-attributes-in-lightdash "Direct link to Using user attributes in Lightdash")

There are several places in Lightdash where you can customise behaviour based on user attributes.

When referencing user attributes in SQL you can use the following [SQL variables](/references/sql-variables):

* `${lightdash.attributes.my_attr_1}` - a user attribute called `my_attr_1`

  * (optional) `ld` as an alias for `lightdash`
  * (optional) `attribute` or `attr` as an alias for `attributes`

* `${lightdash.user.<intrinsic_attribute>}` - reference an `intrinsic_attribute` of the current Lightdash user

  * (optional) `ld` as an alias for `lightdash`
  * available intrinsic user attributes:
    * `email`

<Info>
  The user email attribute is only available when the email is verified. This is a security measure to prevent users from creating/updating an account with any email they don't own and gain access to data they shouldn't see.

  If the user email is not verified you will get the following error:

  ![](data:image/png;base64,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)

  ```
  models:  - name: example    meta:      sql_filter: ${lightdash.user.email} = 'example@lightdash.com'
  ```

  If you are self hosting you can enable [SMTP](/self-host/customize-deployment/configure-smtp-for-lightdash-email-notifications) or [SSO](/self-host/customize-deployment/use-sso-login-for-self-hosted-lightdash) authentication to allow users to verify their email address.
</Info>

### Row filtering with `sql_filter`[​](#row-filtering-with-sql_filter "Direct link to row-filtering-with-sql_filter")

You can use user attributes to filter the rows returned by a query. This is useful if you want to restrict the data based on the user's attributes. To reference a user attribute in your sql, use the special lightdash reference `${lightdash.attributes.<attribute_name> }`. You should use the `IN` operator since the attribute might have multiple values.

For example, if you have a user attribute called `sales_region` you can use it in your sql like this:

```
models:  - name: my_model    meta:      sql_filter: ${TABLE}.sales_region IN (${lightdash.attributes.sales_region})
```

### Column filtering with `required_attributes`[​](#column-filtering-with-required_attributes "Direct link to column-filtering-with-required_attributes")

You can use `user attributes` to limit some dimensions to some users.

<Info>
  Users without access to this dimension will not see it, as well as the **metrics derived from it**. Also note that the **custom metrics created from this dimension** on the `explore page`.
</Info>

In the example below, only users with `is_admin` attribute `true` can use the `salary` dimension on `user` table.

```
columns:  - name:    description: User name  - salary:    description: User salary    meta:      dimension:        required_attributes:          is_admin: "true"
```

If a user without access to this dimension runs a query that contains this dimension, they will get a `Forbidden` error. Also, if the user runs a query that contains a metric derived from this dimension, they won't see the metric on the explore page and won't be able to query from it.

You can add multiple attributes for a single dimension. There are two ways to do this:

1. **Multiple attributes joined with `AND`.** In the example below, only users with `is_admin: "true" AND team_name: "HR"` have access to the `salary` dimension in Lightdash.

```
columns:  - name: user    description: User name  - name: salary    description: User salary    meta:      dimension:        required_attributes:          is_admin: 'true'          team_name: 'HR'
```

2. **Multiple attribute values joined with `OR`.** In the example below, users with `team_name = 'HR' OR team_name = 'C-Suite'` have access to the `salary` dimension in Lightdash.

```
columns:  - name: user    description: User name  - name: salary    description: User salary    meta:      dimension:        required_attributes:          team_name: ['HR', 'C-Suite']
```

<Info>
  Column filtering using `required_attributes` does not take into account intrinsic attributes of a user - `email`.
</Info>

### Table filtering with `required_attributes`[​](#table-filtering-with-required_attributes "Direct link to table-filtering-with-required_attributes")

You can use `user attributes` to limit some tables to some users.

In the example below, only users with `is_admin` attribute `true` can use the `payments` table. Users without access to this table will not see it on the `tables page` or the `explore page` when joined to other tables.

```
version: 2models:  - name: payments    meta:      required_attributes:        is_admin: "true"
```

Similar to [columns filtering](#column-filtering-with-required_attributes), you can add multiple attributes for a single table.

<Info>
  Table filtering using `required_attributes` does not take into account intrinsic attributes of a user - `email`.
</Info>

### Filtering joins with `sql_on`[​](#filtering-joins-with-sql_on "Direct link to filtering-joins-with-sql_on")

If you're joining a table, you can also customise the rows that are returned

You can use user attributes to filter the rows returned by a join. This is useful if you want to restrict the data returned from the joined table. To reference a user attribute in your sql, use the special lightdash reference `${ lightdash.attributes.<attribute_name> }`. For example, if you have a user attribute called `sales_region` you can use it in your sql like this:

```
models:  - name: base    meta:      joins:        - join: joined          sql_on: >            ${base}.id = ${joined}.id            AND ${joined}.sales_region = ${lightdash.attributes.sales_region}
```

## Current limitations[​](#current-limitations "Direct link to Current limitations")

Lightdash dimensions and custom metrics are protected by this feature, however, it is possible to write custom SQL to bypass this filter, for example:

* Developers and admins running SQL queries on SQL runner.
* Custom SQL or subqueries on `table calculations`

<Info>
  Scheduler deliveries will run against the user who created the scheduled delivery, be careful when sharing required attributes with other users.
</Info>

## Demo: filtering a chart based on user attributes[​](#demo-filtering-a-chart-based-on-user-attributes "Direct link to Demo: filtering a chart based on user attributes")

The following video gives you a full demo for how to use user attributes to filter chart results.

[YouTube video player](https://www.youtube.com/embed/t6QS0rr0PDQ)

## How user and group attribute values interact[​](#how-user-and-group-attribute-values-interact "Direct link to How user and group attribute values interact")

Users can be assigned attributes, but you can also assign groups attributes. So, if a user is assigned an attribute value, but they're also part of a group that's been assigned a value for the same attribute, what happens?

### Column filtering[​](#column-filtering "Direct link to Column filtering")

If the required attributes match ***any*** of the user's group or user attribute values, then the user has access to the column.

For example, if a user is part of a group with the attribute value `kiwi`, another group with the attribute value `orange`, and they've also been assigned as a user to the attribute value `coconut`.

```
columns:  - name: tropical_fruits_column    meta:      dimension:        required_attributes:          fruits: 'coconut'
```

In this example, the `tropical_fruits_column` will be visible to them because `coconut` is listed in their attribute values `['kiwi','orange', 'coconut']`.

### Row filtering[​](#row-filtering "Direct link to Row filtering")

The template reference will be replaced by an array of the user's group or user attribute values.

Let's walk through an example:

```
models:  - name: my_model    meta:      sql_filter: ${TABLE}.fruit IN (${lightdash.attributes.fruit})
```

In this example, the `${lightdash.attributes.fruit}` will be replaced with `'kiwi','orange','coconut'`. The final SQL will be `my_model.fruit IN ('kiwi','orange','coconut)`

**Tags:**

* [role:admin](/tags/role-admin)

[Edit this page](https://github.com/lightdash/lightdash/edit/main/docs/docs/references/user-attributes.mdx)
